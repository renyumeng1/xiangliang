<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>箱梁内模形变智能监测与控制中心</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Source+Han+Sans+SC:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="app-shell">
    <aside class="sidebar">
      <div class="brand">
        <div class="brand-logo">IM</div>
        <div class="brand-info">
          <strong>内模智控中心</strong>
          <span>实时监测 · 智能诊断 · 自适应调控</span>
        </div>
      </div>
      <div class="sidebar-section">
        <h3>导航</h3>
        <nav class="sidebar-nav">
          <button class="nav-btn active" data-target="overview">系统总览</button>
          <button class="nav-btn" data-target="monitoring">实时监测</button>
          <button class="nav-btn" data-target="analysis">数字孪生</button>
          <button class="nav-btn" data-target="control">调控中心</button>
          <button class="nav-btn" data-target="operations">施工运营</button>
          <button class="nav-btn" data-target="reports">成效评估</button>
          <button class="nav-btn" data-target="summary">总结展望</button>
        </nav>
      </div>
      <div class="sidebar-section">
        <h3>快速状态</h3>
        <div class="status-card compact">
          <span>监测周期</span>
          <strong><span id="cycleCountdown">60</span>s</strong>
        </div>
        <div class="status-card compact">
          <span>报警记录</span>
          <strong><span id="alertCount">0</span> 条</strong>
        </div>
        <div class="status-card compact">
          <span>液压效率</span>
          <strong id="hydraulicEfficiency">96%</strong>
        </div>
      </div>
      <div class="sidebar-footer">
        <button class="secondary-btn" id="startTour">演示导览</button>
        <button class="ghost-btn" id="exportReport">导出日报</button>
      </div>
    </aside>

    <div class="main-area">
      <header class="topbar">
        <div class="topbar-metrics">
          <div class="metric-item">
            <span>全域扫描频率</span>
            <strong><span id="scanRate">1.8</span> 次/分钟</strong>
          </div>
          <div class="metric-item">
            <span>调控响应时间</span>
            <strong><span id="actuatorDelay">18</span> 秒</strong>
          </div>
          <div class="metric-item">
            <span>系统稳定度</span>
            <strong><span id="stabilityScore">98%</span></strong>
          </div>
          <div class="metric-item">
            <span>在线内模</span>
            <strong><span id="onlineBeams">12</span> 片</strong>
          </div>
        </div>
        <div class="topbar-actions">
          <button class="primary-btn" id="syncNow">同步数据</button>
          <button class="outline-btn" id="toggleTheme">夜间模式</button>
        </div>
      </header>

      <main class="workspace">
        <section class="view active" id="overview">
          <div class="panel-grid">
            <article class="card large">
              <header>
                <h2>施工痛点智能剖析</h2>
                <span>3.1 箱梁内模施工形变控制存在的问题</span>
              </header>
              <div class="issue-board">
                <div class="issue-item">
                  <div class="issue-title">侧压力导致形态失稳</div>
                  <p>模拟监测显示浇筑阶段侧墙受力不均，触发顶板下沉、侧鼓、接缝错台等风险。</p>
                  <div class="tag-list">
                    <span>局部屈曲</span>
                    <span>整体偏移</span>
                    <span>接缝张开</span>
                  </div>
                </div>
                <div class="issue-item">
                  <div class="issue-title">人工监测滞后且覆盖不足</div>
                  <p>传统抽检频率< 3次/浇筑，盲区占内模面积 68%，难以捕捉瞬时与累积形变。</p>
                  <div class="tag-list">
                    <span>监测频率低</span>
                    <span>盲区多</span>
                    <span>反馈慢</span>
                  </div>
                </div>
                <div class="issue-item">
                  <div class="issue-title">液压调校依赖经验</div>
                  <p>缺乏量化调控模型，试错式调整导致调校效率低且易过调，反馈滞后。</p>
                  <div class="tag-list">
                    <span>无量化映射</span>
                    <span>试错操作</span>
                    <span>风险高</span>
                  </div>
                </div>
                <div class="issue-item">
                  <div class="issue-title">缺乏预测性干预</div>
                  <p>内模为非线性时变系统，无法提前判断稳定性态，仍停留在被动补救。</p>
                  <div class="tag-list">
                    <span>多物理耦合</span>
                    <span>预测缺失</span>
                    <span>控制滞后</span>
                  </div>
                </div>
              </div>
            </article>

            <article class="card medium">
              <header>
                <h2>系统闭环流程</h2>
                <span>感知 → 认知 → 决策 → 控制</span>
              </header>
              <div class="flow-diagram">
                <div class="flow-step active">
                  <span>高精度感知</span>
                  <small>激光扫描 + 倾角位移</small>
                </div>
                <div class="flow-step">
                  <span>数字孪生</span>
                  <small>点云融合与模型拟合</small>
                </div>
                <div class="flow-step">
                  <span>智能诊断</span>
                  <small>形变识别与预测</small>
                </div>
                <div class="flow-step">
                  <span>自适应控制</span>
                  <small>IMC-PID + 分级策略</small>
                </div>
              </div>
              <div class="cycle-progress">
                <span>当前阶段：<strong id="cycleStage">数据采集</strong></span>
                <div class="progress-bar"><span id="cycleProgress"></span></div>
              </div>
            </article>

            <article class="card medium">
              <header>
                <h2>近期报警动态</h2>
                <span>实时监控自动同步</span>
              </header>
              <ul class="alert-list" id="alertList"></ul>
            </article>

            <article class="card medium">
              <header>
                <h2>关键绩效指标</h2>
                <span>来自 1876 片箱梁的实践数据</span>
              </header>
              <div class="kpi-grid">
                <div class="kpi-item">
                  <strong>99.8%</strong>
                  <span>内腔尺寸合格率</span>
                </div>
                <div class="kpi-item">
                  <strong>25%</strong>
                  <span>生产效率提升</span>
                </div>
                <div class="kpi-item">
                  <strong>¥234万</strong>
                  <span>年度直接效益</span>
                </div>
                <div class="kpi-item">
                  <strong>1.2 年</strong>
                  <span>投资回收期</span>
                </div>
              </div>
            </article>
          </div>
        </section>

        <section class="view" id="monitoring">
          <div class="panel-grid">
            <article class="card large">
              <header>
                <h2>箱梁内模数字孪生视图</h2>
                <span>点云热力图 + 传感器布设</span>
              </header>
              <div class="twin-wrapper">
                <canvas id="twinCanvas" width="640" height="320" aria-label="数字孪生模型"></canvas>
                <div class="twin-legend">
                  <span class="legend-item normal">正常</span>
                  <span class="legend-item warning">预警</span>
                  <span class="legend-item danger">干预</span>
                </div>
              </div>
            </article>

            <article class="card medium">
              <header>
                <h2>传感网络状态</h2>
                <span>多源融合实时刷新</span>
              </header>
              <ul class="sensor-list" id="sensorList"></ul>
            </article>

            <article class="card medium">
              <header>
                <h2>形变趋势</h2>
                <span>最近 15 分钟</span>
              </header>
              <canvas id="trendChart" width="320" height="200"></canvas>
            </article>

            <article class="card medium">
              <header>
                <h2>施工事件日志</h2>
                <span>自动记录与追溯</span>
              </header>
              <ul class="log-list" id="eventLog"></ul>
            </article>

            <article class="card medium">
              <header>
                <h2>液压执行器群</h2>
                <span>实时位移 / 压力反馈</span>
              </header>
              <div class="actuator-grid" id="actuatorGrid"></div>
            </article>
          </div>
        </section>

        <section class="view" id="analysis">
          <div class="panel-grid">
            <article class="card large">
              <header>
                <h2>关键技术模块</h2>
                <span>3.2 内模形变智能监测与控制系统设计</span>
              </header>
              <div class="tab-container">
                <div class="tab-header">
                  <button class="tab-btn active" data-tab="sensing">高精度感知</button>
                  <button class="tab-btn" data-tab="fusion">数据融合</button>
                  <button class="tab-btn" data-tab="diagnosis">形变识别</button>
                  <button class="tab-btn" data-tab="prediction">机理溯源</button>
                </div>
                <div class="tab-content active" id="sensing">
                  <h3>多站式三维激光扫描</h3>
                  <ul>
                    <li>连续点云采样（1-2 次/分钟），测量精度 ±1~2mm，扫描速率 ≥30万点/秒。</li>
                    <li>四站式布设 + 固定靶标，自动配准构建统一坐标系。</li>
                    <li>适配施工粉尘、震动环境，保障数据稳定性。</li>
                  </ul>
                </div>
                <div class="tab-content" id="fusion">
                  <h3>多源传感器协同融合</h3>
                  <ul>
                    <li>倾角、位移、液压反馈同步采集，采样频率 10Hz。</li>
                    <li>卡尔曼滤波融合全域点云与局部测点，增强鲁棒性。</li>
                    <li>缺测时自动启用粒子滤波预测并补偿。</li>
                  </ul>
                </div>
                <div class="tab-content" id="diagnosis">
                  <h3>形变识别与量化算法</h3>
                  <ul>
                    <li>4PCS+ICP 双阶段配准，生成毫米级形变场。</li>
                    <li>自动提取整体偏移、扭转角度及局部极值。</li>
                    <li>延时控制 < 30 秒，检测精度 ≤ 2 mm。</li>
                  </ul>
                </div>
                <div class="tab-content" id="prediction">
                  <h3>数字孪生与机理溯源</h3>
                  <ul>
                    <li>内嵌有限元模型，反演液压杆失效与荷载异常。</li>
                    <li>ARIMA/LSTM 预测形变趋势，实现前馈控制。</li>
                    <li>联动风险评估，提前触发分级调控策略。</li>
                  </ul>
                </div>
              </div>
            </article>

            <article class="card medium">
              <header>
                <h2>热力分布</h2>
                <span>形变场可视化</span>
              </header>
              <canvas id="heatmap" width="320" height="200"></canvas>
            </article>

            <article class="card medium">
              <header>
                <h2>预测趋势</h2>
                <span>短期模型推演</span>
              </header>
              <canvas id="forecastChart" width="320" height="200"></canvas>
            </article>
          </div>
        </section>

        <section class="view" id="control">
          <div class="panel-grid">
            <article class="card large">
              <header>
                <h2>IMC-PID 控制参数整定</h2>
                <span>实时模拟液压调控</span>
              </header>
              <div class="pid-panel">
                <div class="pid-controls">
                  <label>比例增益 Kp <input type="range" id="kpRange" min="0.5" max="3.5" step="0.1" value="1.1" /><span id="kpValue">1.1</span></label>
                  <label>积分时间 Ti <input type="range" id="tiRange" min="20" max="120" step="5" value="60" /><span id="tiValue">60</span></label>
                  <label>微分时间 Td <input type="range" id="tdRange" min="1" max="30" step="1" value="8" /><span id="tdValue">8</span></label>
                </div>
                <div class="pid-chart">
                  <canvas id="pidChart" width="360" height="220"></canvas>
                </div>
              </div>
            </article>

            <article class="card medium">
              <header>
                <h2>调控策略分级</h2>
                <span>自动匹配响应策略</span>
              </header>
              <div class="strategy-panel">
                <div class="gauge">
                  <div class="gauge-needle" id="gaugeNeedle"></div>
                  <div class="gauge-scale">
                    <span>Ⅰ级</span>
                    <span>Ⅱ级</span>
                    <span>Ⅲ级</span>
                    <span>Ⅳ级</span>
                  </div>
                </div>
                <div class="strategy-actions">
                  <button class="strategy-btn active" data-level="1">一级正常</button>
                  <button class="strategy-btn" data-level="2">二级预警</button>
                  <button class="strategy-btn" data-level="3">三级干预</button>
                  <button class="strategy-btn" data-level="4">四级应急</button>
                </div>
                <ul class="strategy-details" id="strategyDetails"></ul>
              </div>
            </article>

            <article class="card medium">
              <header>
                <h2>液压系统运行态势</h2>
                <span>实时位移模拟</span>
              </header>
              <div class="hydraulic-tank">
                <div class="liquid" id="hydraulicLevel"></div>
              </div>
              <div class="hydraulic-stats">
                <div>
                  <span>平均位移</span>
                  <strong><span id="hydraulicDisplacement">3.2</span> mm</strong>
                </div>
                <div>
                  <span>效率指标</span>
                  <strong id="efficiencyIndicator">稳定</strong>
                </div>
              </div>
            </article>
          </div>
        </section>

        <section class="view" id="operations">
          <div class="panel-grid">
            <article class="card large">
              <header>
                <h2>系统部署与集成</h2>
                <span>3.3.1 多站式部署方案</span>
              </header>
              <div class="deployment-map">
                <div class="station" data-label="站点A">A</div>
                <div class="station" data-label="站点B">B</div>
                <div class="station" data-label="站点C">C</div>
                <div class="station" data-label="站点D">D</div>
                <div class="beam"></div>
                <div class="deploy-info">
                  <p>扫描仪：Focus Premium，测程 130 m，精度 ±1 mm。</p>
                  <p>倾角传感器：12 处支撑点，量程 ±30°，精度 0.01°。</p>
                  <p>位移计：8 处接缝，量程 50 mm，分辨率 0.1 mm。</p>
                </div>
              </div>
            </article>

            <article class="card medium">
              <header>
                <h2>标准化操作流程</h2>
                <span>3.3.2 施工阶段</span>
              </header>
              <ol class="operation-steps" id="operationSteps">
                <li class="active">系统自检（传感器连通、扫描标定、液压测试）</li>
                <li>浇筑阶段自动运行（数据采集→处理→决策→执行）</li>
                <li>分级调控（微调 / 快速 / 应急）与人工确认</li>
                <li>数据归档（日报 / 周报 / 月报自动生成）</li>
              </ol>
            </article>

            <article class="card medium">
              <header>
                <h2>维护与数据管理</h2>
                <span>3.3.3 运维规范</span>
              </header>
              <div class="maintenance-grid">
                <div>
                  <strong>日常</strong>
                  <p>清洁光学镜头，检测采集链路。</p>
                </div>
                <div>
                  <strong>每周</strong>
                  <p>传感器精度校验，巡检液压站。</p>
                </div>
                <div>
                  <strong>每月</strong>
                  <p>液压系统保养，更新模型参数。</p>
                </div>
                <div>
                  <strong>数据策略</strong>
                  <p>点云存储 30 天，形变数据 1 年，报警永久留存。</p>
                </div>
              </div>
            </article>

            <article class="card medium">
              <header>
                <h2>人员培训与应急预案</h2>
                <span>3.3.4 全面保障</span>
              </header>
              <ul class="training-list">
                <li>操作培训 ≥40 学时，通过考核持证上岗。</li>
                <li>系统故障时自动切换人工监测，全站仪接管。</li>
                <li>网络中断启用本地存储，恢复后同步。</li>
                <li>重大形变报警支持一键暂停浇筑。</li>
              </ul>
            </article>
          </div>
        </section>

        <section class="view" id="reports">
          <div class="panel-grid">
            <article class="card medium">
              <header>
                <h2>质量控制效果</h2>
                <span>3.4.1 量化分析</span>
              </header>
              <ul class="kpi-list">
                <li><span>内腔尺寸合格率</span><strong>90.2% → 99.8%</strong></li>
                <li><span>顶板厚度偏差</span><strong>±5mm → +2.1/-1.8mm</strong></li>
                <li><span>侧墙垂直度</span><strong>≤0.8‰</strong></li>
                <li><span>接缝错台量</span><strong>≤2.1mm</strong></li>
              </ul>
            </article>

            <article class="card medium">
              <header>
                <h2>效率提升指标</h2>
                <span>3.4.2 效率分析</span>
              </header>
              <ul class="kpi-list">
                <li><span>监测人力</span><strong>4人 → 1人</strong></li>
                <li><span>监测时长</span><strong>3h → 1h</strong></li>
                <li><span>预制周期</span><strong>5天 → 4天</strong></li>
                <li><span>全天候监测</span><strong>24h 连续</strong></li>
              </ul>
            </article>

            <article class="card medium">
              <header>
                <h2>经济效益评估</h2>
                <span>3.4.3 成本收益</span>
              </header>
              <ul class="kpi-list">
                <li><span>系统投资</span><strong>¥152 万</strong></li>
                <li><span>运维成本</span><strong>¥15 万 / 年</strong></li>
                <li><span>人工节约</span><strong>¥28 万 / 年</strong></li>
                <li><span>返工节约</span><strong>¥86 万 / 年</strong></li>
                <li><span>效率收益</span><strong>¥120 万 / 年</strong></li>
              </ul>
            </article>

            <article class="card large">
              <header>
                <h2>智能系统与传统方法对比</h2>
                <span>表3.4.1</span>
              </header>
              <table class="compare-table">
                <thead>
                  <tr>
                    <th>评价指标</th>
                    <th>传统人工监测</th>
                    <th>智能系统</th>
                    <th>提升</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>形变检测精度</td>
                    <td>±5mm（依赖测点）</td>
                    <td>±2mm（全覆盖）</td>
                    <td>精度提升 150%</td>
                  </tr>
                  <tr>
                    <td>形变响应时间</td>
                    <td>15-30 分钟</td>
                    <td>&lt; 30 秒</td>
                    <td>响应提速 30~60 倍</td>
                  </tr>
                  <tr>
                    <td>尺寸合格率</td>
                    <td>90%</td>
                    <td>≥99.5%</td>
                    <td>质量显著提升</td>
                  </tr>
                  <tr>
                    <td>液压调控次数</td>
                    <td>经验试调</td>
                    <td>模型预测 3-5 次</td>
                    <td>避免无效操作</td>
                  </tr>
                  <tr>
                    <td>人工投入</td>
                    <td>2名测量员</td>
                    <td>1名监控员</td>
                    <td>劳动强度下降</td>
                  </tr>
                  <tr>
                    <td>数据可追溯性</td>
                    <td>纸质记录</td>
                    <td>三维数据档案</td>
                    <td>质量分析支撑</td>
                  </tr>
                </tbody>
              </table>
            </article>

            <article class="card medium">
              <header>
                <h2>数据可视化</h2>
                <span>多指标趋势</span>
              </header>
              <canvas id="reportChart" width="320" height="200"></canvas>
            </article>
          </div>
        </section>

        <section class="view" id="summary">
          <div class="panel-grid">
            <article class="card medium">
              <header>
                <h2>主要成果与创新点</h2>
                <span>3.5.1</span>
              </header>
              <ul class="kpi-list">
                <li>多源数据融合实现全域感知，内腔尺寸合格率提升至 99.8%。</li>
                <li>数字孪生预测模型结合有限元与实时数据，实现主动预测。</li>
                <li>自适应 PID 算法增强非线性时变系统适应力。</li>
              </ul>
            </article>

            <article class="card medium">
              <header>
                <h2>实践意义与推广价值</h2>
                <span>3.5.2</span>
              </header>
              <ul class="kpi-list">
                <li>投资回收期 1.2 年，年度直接经济效益 234 万元。</li>
                <li>实现施工过程数字化、可视化管控，构建质量追溯体系。</li>
                <li>模块化设计适配不同箱梁规格，已纳入行业标准修订。</li>
              </ul>
            </article>

            <article class="card medium">
              <header>
                <h2>局限性与未来展望</h2>
                <span>3.5.3</span>
              </header>
              <ul class="kpi-list">
                <li>需提升对极端天气工况的适应性与鲁棒性。</li>
                <li>加强海量点云实时处理与其他工序联动能力。</li>
                <li>拓展 5G、边缘计算、智慧工地平台联动。</li>
              </ul>
            </article>

            <article class="card large">
              <header>
                <h2>项目成果档案</h2>
                <span>自动生成的统计快照</span>
              </header>
              <div class="summary-snapshot" id="summarySnapshot"></div>
            </article>
          </div>
        </section>
      </main>
    </div>
  </div>

  <div class="tour-overlay" id="tourOverlay" hidden>
    <div class="tour-box">
      <p id="tourText">欢迎使用演示导览</p>
      <div class="tour-actions">
        <button class="primary-btn" id="tourNext">下一步</button>
        <button class="ghost-btn" id="tourSkip">跳过</button>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
