<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>箱梁内模智能监控系统</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="app-container">
    <!-- 顶部导航栏 -->
    <header class="top-navbar">
      <div class="navbar-left">
        <div class="logo">
          <i class="fas fa-cube"></i>
          <span>箱梁监控系统</span>
        </div>
        <nav class="main-nav">
          <button class="nav-item active" data-view="dashboard">
            <i class="fas fa-tachometer-alt"></i>
            仪表板
          </button>
          <button class="nav-item" data-view="monitoring">
            <i class="fas fa-chart-line"></i>
            实时监测
          </button>
          <button class="nav-item" data-view="sensors">
            <i class="fas fa-microchip"></i>
            传感器管理
          </button>
          <button class="nav-item" data-view="control">
            <i class="fas fa-sliders-h"></i>
            自动控制
          </button>
          <button class="nav-item" data-view="analysis">
            <i class="fas fa-brain"></i>
            数据分析
          </button>
          <button class="nav-item" data-view="settings">
            <i class="fas fa-cog"></i>
            系统设置
          </button>
        </nav>
      </div>
      <div class="navbar-right">
        <div class="system-status">
          <span class="status-indicator online"></span>
          <span>系统正常</span>
        </div>
        <div class="current-time" id="currentTime"></div>
        <button class="user-menu">
          <i class="fas fa-user"></i>
          管理员
        </button>
      </div>
    </header>

    <!-- 主内容区域 -->
    <main class="main-content">
      <!-- 仪表板视图 -->
      <div class="view active" id="dashboard">
        <div class="dashboard-grid">
          <!-- 概览卡片 -->
          <div class="overview-cards">
            <div class="metric-card">
              <div class="metric-header">
                <i class="fas fa-eye text-blue"></i>
                <span>监测点数量</span>
              </div>
              <div class="metric-value" id="totalSensors">128</div>
              <div class="metric-change positive">+2 今日新增</div>
            </div>
            
            <div class="metric-card">
              <div class="metric-header">
                <i class="fas fa-exclamation-triangle text-orange"></i>
                <span>活跃告警</span>
              </div>
              <div class="metric-value text-orange" id="activeAlerts">3</div>
              <div class="metric-change negative">+1 vs 昨日</div>
            </div>
            
            <div class="metric-card">
              <div class="metric-header">
                <i class="fas fa-cogs text-green"></i>
                <span>设备在线率</span>
              </div>
              <div class="metric-value text-green" id="deviceOnlineRate">98.4%</div>
              <div class="metric-change positive">+0.2% vs 昨日</div>
            </div>
            
            <div class="metric-card">
              <div class="metric-header">
                <i class="fas fa-chart-area text-purple"></i>
                <span>数据完整率</span>
              </div>
              <div class="metric-value" id="dataIntegrity">99.7%</div>
              <div class="metric-change positive">正常</div>
            </div>
          </div>

          <!-- 实时数据图表 -->
          <div class="chart-container">
            <div class="chart-header">
              <h3>关键参数趋势</h3>
              <div class="chart-controls">
                <select id="chartTimeRange">
                  <option value="1h">最近1小时</option>
                  <option value="6h">最近6小时</option>
                  <option value="24h" selected>最近24小时</option>
                </select>
                <button class="btn-icon"><i class="fas fa-download"></i></button>
              </div>
            </div>
            <div class="chart-content">
              <canvas id="trendChart" width="800" height="300"></canvas>
            </div>
          </div>

          <!-- 设备状态列表 -->
          <div class="device-status-panel">
            <div class="panel-header">
              <h3>设备实时状态</h3>
              <button class="btn-refresh" id="refreshDevices">
                <i class="fas fa-sync-alt"></i>
              </button>
            </div>
            <div class="device-list" id="deviceList">
              <!-- 动态生成设备列表 -->
            </div>
          </div>

          <!-- 告警列表 -->
          <div class="alerts-panel">
            <div class="panel-header">
              <h3>最新告警</h3>
              <div class="alert-filters">
                <button class="filter-btn active" data-level="all">全部</button>
                <button class="filter-btn" data-level="critical">严重</button>
                <button class="filter-btn" data-level="warning">警告</button>
              </div>
            </div>
            <div class="alerts-list" id="alertsList">
              <!-- 动态生成告警列表 -->
            </div>
          </div>
        </div>
      </div>

      <!-- 实时监测视图 -->
      <div class="view" id="monitoring">
        <div class="monitoring-layout">
          <!-- 3D模型显示区域 -->
          <div class="model-viewer">
            <div class="viewer-header">
              <h3>箱梁3D模型</h3>
              <div class="viewer-controls">
                <button class="btn-icon" id="resetView"><i class="fas fa-home"></i></button>
                <button class="btn-icon" id="toggleWireframe"><i class="fas fa-cube"></i></button>
                <button class="btn-icon" id="toggleMeasure"><i class="fas fa-ruler"></i></button>
              </div>
            </div>
            <div class="viewer-content" id="modelViewer">
              <!-- 这里放置3D模型或模拟图像 -->
              <div class="model-placeholder">
                <div class="box-girder-model">
                  <div class="girder-top"></div>
                  <div class="girder-web left"></div>
                  <div class="girder-web right"></div>
                  <div class="girder-bottom"></div>
                  <!-- 传感器点位 -->
                  <div class="sensor-point" data-sensor="D001" style="top: 10%; left: 20%;"></div>
                  <div class="sensor-point" data-sensor="D002" style="top: 10%; left: 50%;"></div>
                  <div class="sensor-point" data-sensor="D003" style="top: 10%; left: 80%;"></div>
                  <div class="sensor-point warning" data-sensor="D004" style="top: 50%; left: 15%;"></div>
                  <div class="sensor-point" data-sensor="D005" style="top: 50%; left: 85%;"></div>
                  <div class="sensor-point critical" data-sensor="D006" style="top: 90%; left: 30%;"></div>
                </div>
                <p>点击传感器节点查看详细数据</p>
              </div>
            </div>
          </div>

          <!-- 实时数据面板 -->
          <div class="realtime-data">
            <div class="data-tabs">
              <button class="tab-btn active" data-tab="sensors">传感器数据</button>
              <button class="tab-btn" data-tab="analysis">分析结果</button>
              <button class="tab-btn" data-tab="history">历史记录</button>
            </div>
            
            <div class="tab-content active" id="sensors-tab">
              <div class="sensor-grid" id="sensorGrid">
                <!-- 动态生成传感器数据 -->
              </div>
            </div>
            
            <div class="tab-content" id="analysis-tab">
              <div class="analysis-results">
                <div class="result-item">
                  <h4>形变分析</h4>
                  <div class="result-value" id="deformationValue">位移: 2.3mm</div>
                  <div class="result-status normal">正常范围</div>
                </div>
                <div class="result-item">
                  <h4>应力分析</h4>
                  <div class="result-value" id="stressValue">最大应力: 45.2 MPa</div>
                  <div class="result-status warning">需要关注</div>
                </div>
                <div class="result-item">
                  <h4>稳定性评估</h4>
                  <div class="result-value" id="stabilityScore">评分: 85/100</div>
                  <div class="result-status normal">稳定</div>
                </div>
              </div>
            </div>
            
            <div class="tab-content" id="history-tab">
              <div class="history-table">
                <table>
                  <thead>
                    <tr>
                      <th>时间</th>
                      <th>事件</th>
                      <th>状态</th>
                    </tr>
                  </thead>
                  <tbody id="historyTableBody">
                    <!-- 动态生成历史记录 -->
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 传感器管理视图 -->
      <div class="view" id="sensors">
        <div class="sensors-layout">
          <div class="sensors-toolbar">
            <div class="toolbar-left">
              <h2>传感器管理</h2>
              <div class="sensor-stats">
                <span class="stat-item">
                  <span class="stat-label">总计:</span>
                  <span class="stat-value" id="totalSensorCount">128</span>
                </span>
                <span class="stat-item">
                  <span class="stat-label">在线:</span>
                  <span class="stat-value text-green" id="onlineSensorCount">126</span>
                </span>
                <span class="stat-item">
                  <span class="stat-label">离线:</span>
                  <span class="stat-value text-red" id="offlineSensorCount">2</span>
                </span>
              </div>
            </div>
            <div class="toolbar-right">
              <div class="search-box">
                <i class="fas fa-search"></i>
                <input type="text" placeholder="搜索传感器..." id="sensorSearch">
              </div>
              <select id="sensorTypeFilter">
                <option value="all">所有类型</option>
                <option value="displacement">位移传感器</option>
                <option value="strain">应变传感器</option>
                <option value="pressure">压力传感器</option>
                <option value="temperature">温度传感器</option>
              </select>
              <button class="btn-primary">
                <i class="fas fa-plus"></i>
                添加传感器
              </button>
            </div>
          </div>
          
          <div class="sensors-table-container">
            <table class="sensors-table">
              <thead>
                <tr>
                  <th>ID</th>
                  <th>名称</th>
                  <th>类型</th>
                  <th>位置</th>
                  <th>当前值</th>
                  <th>状态</th>
                  <th>最后更新</th>
                  <th>操作</th>
                </tr>
              </thead>
              <tbody id="sensorsTableBody">
                <!-- 动态生成传感器表格 -->
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <!-- 自动控制视图 -->
      <div class="view" id="control">
        <div class="control-layout">
          <div class="control-panels">
            <!-- 液压控制面板 -->
            <div class="control-panel">
              <div class="panel-header">
                <h3>液压系统控制</h3>
                <div class="panel-status">
                  <span class="status-dot online"></span>
                  <span>自动模式</span>
                </div>
              </div>
              <div class="hydraulic-controls">
                <div class="control-group">
                  <label>主液压泵</label>
                  <div class="control-row">
                    <button class="btn-control start" data-action="start">启动</button>
                    <button class="btn-control stop" data-action="stop">停止</button>
                    <div class="pressure-gauge">
                      <div class="gauge-value" id="mainPressure">85</div>
                      <div class="gauge-unit">bar</div>
                    </div>
                  </div>
                </div>
                
                <div class="control-group">
                  <label>液压缸组</label>
                  <div class="cylinder-grid" id="cylinderGrid">
                    <!-- 动态生成液压缸控制 -->
                  </div>
                </div>
              </div>
            </div>

            <!-- 监控参数设置 -->
            <div class="control-panel">
              <div class="panel-header">
                <h3>监控参数设置</h3>
              </div>
              <div class="parameter-settings">
                <div class="setting-item">
                  <label>位移阈值 (mm)</label>
                  <div class="input-group">
                    <input type="number" value="5.0" step="0.1" id="displacementThreshold">
                    <button class="btn-apply">应用</button>
                  </div>
                </div>
                
                <div class="setting-item">
                  <label>应变阈值 (με)</label>
                  <div class="input-group">
                    <input type="number" value="100" step="10" id="strainThreshold">
                    <button class="btn-apply">应用</button>
                  </div>
                </div>
                
                <div class="setting-item">
                  <label>采样频率 (Hz)</label>
                  <div class="input-group">
                    <select id="samplingFrequency">
                      <option value="1">1 Hz</option>
                      <option value="5">5 Hz</option>
                      <option value="10" selected>10 Hz</option>
                      <option value="20">20 Hz</option>
                    </select>
                    <button class="btn-apply">应用</button>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- 控制日志 -->
          <div class="control-log">
            <div class="log-header">
              <h3>控制日志</h3>
              <div class="log-controls">
                <button class="btn-icon" id="clearLog"><i class="fas fa-trash"></i></button>
                <button class="btn-icon" id="exportLog"><i class="fas fa-download"></i></button>
              </div>
            </div>
            <div class="log-content" id="controlLog">
              <!-- 动态生成控制日志 -->
            </div>
          </div>
        </div>
      </div>

      <!-- 数据分析视图 -->
      <div class="view" id="analysis">
        <div class="analysis-layout">
          <div class="analysis-toolbar">
            <h2>数据分析</h2>
            <div class="analysis-controls">
              <select id="analysisTimeRange">
                <option value="1d">最近1天</option>
                <option value="7d">最近7天</option>
                <option value="30d" selected>最近30天</option>
              </select>
              <button class="btn-primary" id="generateReport">生成报告</button>
            </div>
          </div>
          
          <div class="analysis-content">
            <div class="analysis-charts">
              <div class="chart-item">
                <h4>位移趋势分析</h4>
                <canvas id="displacementChart" width="400" height="200"></canvas>
              </div>
              
              <div class="chart-item">
                <h4>应变分布热图</h4>
                <div class="heatmap-container" id="strainHeatmap">
                  <!-- 热力图 -->
                  <div class="heatmap-grid">
                    <div class="heatmap-cell" data-value="20"></div>
                    <div class="heatmap-cell" data-value="45"></div>
                    <div class="heatmap-cell" data-value="30"></div>
                    <div class="heatmap-cell" data-value="80"></div>
                    <div class="heatmap-cell" data-value="60"></div>
                    <div class="heatmap-cell" data-value="35"></div>
                  </div>
                </div>
              </div>
              
              <div class="chart-item">
                <h4>告警统计</h4>
                <canvas id="alertsChart" width="400" height="200"></canvas>
              </div>
            </div>
            
            <div class="analysis-summary">
              <h4>分析摘要</h4>
              <div class="summary-items" id="analysisSummary">
                <!-- 动态生成分析摘要 -->
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 系统设置视图 -->
      <div class="view" id="settings">
        <div class="settings-layout">
          <div class="settings-sidebar">
            <nav class="settings-nav">
              <button class="settings-nav-item active" data-section="general">常规设置</button>
              <button class="settings-nav-item" data-section="monitoring">监控配置</button>
              <button class="settings-nav-item" data-section="alerts">告警设置</button>
              <button class="settings-nav-item" data-section="users">用户管理</button>
              <button class="settings-nav-item" data-section="backup">备份还原</button>
            </nav>
          </div>
          
          <div class="settings-content">
            <div class="settings-section active" id="general-settings">
              <h3>常规设置</h3>
              <div class="settings-form">
                <div class="form-group">
                  <label>系统名称</label>
                  <input type="text" value="箱梁内模智能监控系统">
                </div>
                <div class="form-group">
                  <label>时区</label>
                  <select>
                    <option>UTC+8 北京时间</option>
                  </select>
                </div>
                <div class="form-group">
                  <label>语言</label>
                  <select>
                    <option>简体中文</option>
                    <option>English</option>
                  </select>
                </div>
              </div>
            </div>
            
            <div class="settings-section" id="monitoring-settings">
              <h3>监控配置</h3>
              <div class="settings-form">
                <div class="form-group">
                  <label>数据采集间隔 (秒)</label>
                  <input type="number" value="1" min="1" max="60">
                </div>
                <div class="form-group">
                  <label>数据保存期限 (天)</label>
                  <input type="number" value="365" min="30" max="1095">
                </div>
              </div>
            </div>
            
            <div class="settings-section" id="alerts-settings">
              <h3>告警设置</h3>
              <div class="alert-rules" id="alertRules">
                <!-- 动态生成告警规则 -->
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- 模态框 -->
    <div class="modal" id="sensorModal">
      <div class="modal-content">
        <div class="modal-header">
          <h3>传感器详情</h3>
          <button class="modal-close">&times;</button>
        </div>
        <div class="modal-body" id="sensorModalBody">
          <!-- 传感器详情内容 -->
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
  <script src="script.js"></script>
</body>
</html>